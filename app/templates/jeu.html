 <!-- jeu -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8"/>
    <title>Jeu - Marteaux & Mandales</title>
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
</head>
<body>
    <!-- <div id="particles-js"></div>
    <div id="parallax-smoke"></div>-->

    <div id="auth-container">
        <h1 class="runic">Bienvenue dans l'aventure, {{ username }} !</h1>

        <!-- Barre de mana -->
        <div id="vie-bar" style="position:relative; width:200px; height:24px; background:#a00; border-radius:6px; margin-bottom:8px;">
            <div id="vie-fill" style="position:absolute; left:0; top:0; height:100%; width:0%; background:linear-gradient(90deg,#ff4e50,#f9d423); border-radius:10px;"></div>
            <span id="vie-value" style="position:absolute; width:100%; left:0; top:50%; transform:translateY(-50%); text-align:center; color:#fff; font-weight:bold; z-index:2; font-size:10px; pointer-events:none;"></span>
        </div>
        <div id="mana-bar" style="position:relative; width:200px; height:24px; background:#05a; border-radius:6px; margin-bottom:8px;">
            <div id="mana-fill" style="position:absolute; left:0; top:0; height:100%; width:0%; background:linear-gradient(90deg,#43cea2,#185a9d); border-radius:10px;"></div>
            <span id="mana-value" style="position:absolute; width:100%; left:0; top:50%; transform:translateY(-50%); text-align:center; color:#fff; font-weight:bold; z-index:2; font-size:10px; pointer-events:none;"></span>
        </div>
        <!-- Barre d'XP -->
        <div id="xp-bar" style="position:relative; width:200px; height:20px; background:#333; border-radius:5px; margin-bottom:16px;">
          <div id="xp-fill" style="position:absolute; left:0; top:0; height:100%; width:0%; background:linear-gradient(90deg,#00f260,#0575e6); border-radius:10px;"></div>
          <span id="xp-value" style="position:absolute; width:100%; left:0; top:50%; transform:translateY(-50%); text-align:center; color:#fff; font-weight:bold; z-index:2; font-size:10px; pointer-events:none;"></span>
        </div>
        <!-- Panneau des stats joueur -->
        <div id="player-stats-panel" style="background:#222b; color:#fff; padding:10px; border-radius:8px; margin-bottom:16px; max-width:220px; font-size:12px;">
          <div id="stat-pv"></div>
          <div id="stat-mana"></div>
          <div id="stat-xp"></div>
          <div id="stat-atk"></div>
          <div id="stat-def"></div>
          <div id="stat-class"></div>
          <div id="stat-level"></div>
        </div>

        <!-- Zone de carte -->
        <div id="map-container">
            <div id="map-inner"></div>
        </div>

        <!-- Talents -->
        <div id="talents-container">
            <h2 class="runic">Talents disponibles</h2>
            <div id="talents-buttons"></div>
        </div>

        <!-- Bouton retour -->
        <form action="{{ url_for('auth.deconnexion') }}" method="GET">
            <button type="submit">Retour au menu</button>
        </form>
        <!-- Bouton de sauvegarde de la partie -->
        <button id="save-btn" class="save-button">Sauvegarder la partie</button>
        
        <!-- Écran de Game Over -->
        <div id="game-over" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000;">
            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #fff;">
                <h1 style="font-size: 48px; color: #ff0000;">GAME OVER</h1>
                <p style="font-size: 24px; margin: 20px 0;">Vous êtes mort !</p>
                <button onclick="window.location.reload()" style="padding: 10px 20px; font-size: 18px; cursor: pointer;">Réessayer</button>
            </div>
        </div>
    </div>

    <!-- Embedding des données de sauvegarde en JSON pour le front-end -->
    <script id="player-data" type="application/json">
        {{ donnees_sauvegarde | tojson }}
    </script>
    

    <!-- Scripts -->
    <script type="module" src="{{ url_for('static', filename='js/progression_main_logic.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/monstre_main_logic.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/player_visual_utils.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/html_java_jeu.js') }}"></script>
</body>
</html>
